<!-- START of: finna - organisationinfo/map-information.phtml -->
<?=$this->render('components/organisms/map/service-points/service-points.phtml', ['wrapperClass' => 'js-organisation-widget-wrapper', 'organisation' => $this->id, 'searchFormStatusText' => 'Service point was changed to:', 'searchFormLabel' => $this->escapeHtmlAttr($this->translate('Search')), 'locationNotAvailableText' => $this->transEsc('organisation_info_location_not_available'), 'showMapButton' => $this->translate('organisation_info_page_map_show'), 'centerMapButton' => $this->translate('zoom_center'), 'showAllMarkersButton' => $this->translate('organisation_info_page_map_show_all'), 'mapWrapperClass' => 'js-organisation-map-widget', 'servicePointId' => 85141, 'infoWrapperClass' => 'js-organisation-service-point-demo', 'directionsText' => $this->translate('organisation_info_route'), 'homepageText' => $this->translate('organisation_info_homepage'), 'openText' => $this->translate('organisation_info_is_open'), 'openTodayText' => $this->translate('organisation_info_open_today'), 'staffAvailableText' => $this->translate('organisation_info_schedule_staff'), 'closedText' => $this->translate('organisation_info_is_closed'), 'notAvailableText' => $this->translate('organisation_info_no_schedule'), 'expandMapText' => $this->translate('organisation_info_map_expand'), 'collapseMapText' => $this->translate('organisation_info_map_collapse'), 'mapApiUrl' => 'http://map-api.finna.fi/v1/rendered/{z}/{x}/{y}.png', 'showSearchForm' => true, 'mapHeading' => $this->transEsc('organisation_info_navi_service'), 'searchFormPlaceholder' => 'Hae palvelupisteitÃ¤: ({0})'])?>

<div class="row office-information info-element" style="display: block;">
  <div class="office-row-general">
    <div class="office-col">
      <div class="finna-panel introduction">
        <?php
          $introductionContent = $this->render('components/molecules/media/service-point-building/service-point-building.phtml', ['caption' => '', 'imgSrc' => '', 'wrapperClass' => 'js-organisation-service-point-building', 'servicePointId' => 85141, 'organisation' => $this->id, 'yearBuiltText' => $this->translate('organisation_info_building_year').':']); ?>

          <?= $this->render('components/molecules/accordion/accordion/accordion.phtml', ['title' => $this->translate('organisation_info_general'), 'titleId' => 'accordionIntroductionTitle', 'contentId' => 'accordionIntroductionContent', 'content' => $introductionContent, 'initallyOpen' => true, 'darkTheme' => true, 'iconAlign' => 'right']);
        ?>
      </div>
    </div>
    <div class="office-col opening-times-widget">
      <div class="finna-panel opening-times-library-information">
        <?php
          $openingTimesContent = $this->render('components/molecules/scheduling/service-point-schedule/service-point-schedule.phtml', ["nextWeekLabel" => $this->escapeHtmlAttr($this->translate('organisation_info_next_week')), "informationNotAvailableText" => $this->translate('organisation_info_no_schedule'), "organisation" => $this->id, "previousWeekLabel" =>  $this->escapeHtmlAttr($this->translate('organisation_info_previous_week')), "selfServiceText" => $this->translate('organisation_info_only_selfservice'), "staffAvailableText" => $this->translate('organisation_info_schedule_staff'), "weekText" => $this->translate('organisation_info_schedule_week'), "closedText" => $this->translate('organisation_info_is_closed'), "dropdownFallbackLabel" => 'Select a library', "servicePointId" => 85141, "openText" => $this->translate('organisation_info_is_open'), 'showControls' => false, "wrapperClass" => 'js-organisation-schedule', "weekNaviStatusText" => 'Week number changed to:', "dropdownStatusText" => 'Selected service point changed to:']); ?>

          <?= $this->render('components/molecules/accordion/accordion/accordion.phtml', ['title' => $this->translate('organisation_info_schedules'), 'titleId' => 'accordionOpeningTimesTitle', 'contentId' => 'accordionOpeningTimesContent', 'content' => $openingTimesContent, 'initallyOpen' => true, 'darkTheme' => true, 'iconAlign' => 'right']);
        ?>
      </div>
    </div>
    <div class="office-col">
      <?php $contactItems = [
        [
          "title" => $this->translate('organisation_info_email'),
          "class" => "js-organisation-contact-email",
          "dataKey" => "emails"
        ],
        [
          "title" => $this->translate('organisation_info_address'),
          "class" => "js-organisation-contact-address",
          "dataKey" => "address"
        ],
        [
          "title" => $this->translate('organisation_info_address_mail'),
          "class" => "js-organisation-contact-postal-address",
          "dataKey" => "mailAddress"
        ],
        [
          "title" => $this->translate('organisation_info_phone_numbers'),
          "class" => "js-organisation-contact-phone",
          "dataKey" => "phone"
        ]
        ];
      ?>

      <?php
        $contactContent = $this->render('components/molecules/lists/contact/contact.phtml', ['items' => $contactItems, 'wrapperClass' => 'js-organisation-contact-list', 'organisation' => $this->id, 'servicePointId' => 85141]);
      ?>

      <?= $this->render('components/molecules/accordion/accordion/accordion.phtml', ['title' => $this->translate('organisation_info_contact'), 'titleId' => 'accordionContactTitle', 'contentId' => 'accordionContactContent', 'content' => $contactContent, 'initallyOpen' => true, 'darkTheme' => true, 'iconAlign' => 'right']); ?>
    </div>
  </div>
  <div class="finna-panel services info-element">
    <?php
      $servicesHardwareContent = $this->render('components/molecules/lists/service/service.phtml', ['title' => $this->transEsc('kirkanta_hardware'), 'wrapperClass' => 'js-organisation-service-list-hardware', 'listWrapperClass' => 'js-organisation-services-hardware', 'organisation' => $this->id, 'servicePointId' => 85141, 'listDataKey' => 'hardware', 'informationNotAvailableText' => 'Laitteistoa ei ole saatavilla']);

      $servicesRoomsContent = $this->render('components/molecules/lists/service/service.phtml', ['title' => $this->transEsc('kirkanta_rooms'), 'wrapperClass' => 'js-organisation-service-list-room', 'listWrapperClass' => 'js-organisation-services-room', 'organisation' => $this->id, 'servicePointId' => 85141, 'listDataKey' => 'room', 'informationNotAvailableText' => 'Tiloja ei ole saatavilla']);

      $servicesServiceContent = $this->render('components/molecules/lists/service/service.phtml', ['title' => $this->transEsc('kirkanta_services'), 'wrapperClass' => 'js-organisation-service-list-service', 'listWrapperClass' => 'js-organisation-services-service', 'organisation' => $this->id, 'servicePointId' => 85141, 'listDataKey' => 'service', 'informationNotAvailableText' => 'Palveluita ei ole saatavilla']);

      $servicesCollectionContent = $this->render('components/molecules/lists/service/service.phtml', ['title' => $this->transEsc('Collections'), 'wrapperClass' => 'js-organisation-service-list-collection', 'listWrapperClass' => 'js-organisation-services-collection', 'organisation' => $this->id, 'servicePointId' => 85141, 'listDataKey' => 'collection', 'informationNotAvailableText' => 'Kokoelmia ei ole saatavilla']);

      $servicesContent = $servicesHardwareContent . '' . $servicesRoomsContent . '' . $servicesServiceContent .
        '' . $servicesCollectionContent;
    ?>

    <?= $this->render('components/molecules/accordion/accordion/accordion.phtml', ['title' => $this->translate('organisation_info_services'), 'titleId' => 'servicesAccordionTitle', 'contentId' => 'servicesAccordionContent', 'content' => $servicesContent, 'initallyOpen' => true, 'darkTheme' => true, 'iconAlign' => 'right']); ?>
  </div>
  <div class="organisation-feeds">
    <div class="finna-panel news-feed-container rss-container info-element">
      <?php
        $newsContent = $this->render('components/organisms/feed/organisation/organisation.phtml', ['wrapperClass' => 'js-organisation-news-feed', 'rssId' => 'news', 'servicePointId' => 85141, 'organisation' => $this->id, 'informationNotAvailableText' => 'Tietoja ei ole saatavilla.']);
      ?>

      <?= $this->render('components/molecules/accordion/accordion/accordion.phtml', ['title' => $this->translate('organisation_info_rss_news'), 'titleId' => 'accordionNewsTitle', 'contentId' => 'accordionNewsContent', 'content' => $newsContent, 'initallyOpen' => true, 'darkTheme' => true, 'iconAlign' => 'right']); ?>
    </div>
    <div class="finna-panel events-feed-container rss-container info-element">
      <?php
        $eventsContent = $this->render('components/organisms/feed/organisation/organisation.phtml', ['wrapperClass' => 'js-organisation-events-feed', 'rssId' => 'events', 'servicePointId' => 85141, 'organisation' => $this->id, 'informationNotAvailableText' => 'Tietoja ei ole saatavilla.']);
      ?>

      <?= $this->render('components/molecules/accordion/accordion/accordion.phtml', ['title' => $this->translate('organisation_info_rss_events'), 'titleId' => 'accordionEventsTitle', 'contentId' => 'accordionEventsContent', 'content' => $eventsContent, 'initallyOpen' => true, 'darkTheme' => true, 'iconAlign' => 'right']); ?>
    </div>
  </div>
</div>
<!-- END of: finna - organisationinfo/map-information.phtml -->
